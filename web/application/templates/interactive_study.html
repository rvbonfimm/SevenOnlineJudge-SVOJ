{% extends 'base_studies.html' %}

{% block title %}Estudo Interativo{% endblock %}

{% block head %}

	{{ super() }}

{% endblock %}

{% block content %}

	<body class="questions interactiveStudy">

		<br>

		<div style="text-align: center;">

			<div style="display: inline-flex;">

				<div style="padding-right: 100px;">

		        	<img src="{{ url_for('static', filename='images/main.png') }}" alt="Smiley face" width="75" height="75">
			    
		      	</div>

		      	<strong><p style="font-size: 42px;"><i>{{ current_user.name.title() }}</i>, Bem vindo aos Estudos Interativos!</p></strong>

				<div style="padding-left: 100px;">
			 
		        	<img src="{{ url_for('static', filename='images/main.png') }}" alt="Smiley face" width="75" height="75">
			    
		      	</div>

	  		</div>

  		</div>

		<div style="width: 90%; margin: auto; font-size: 24px;">

			<br><br>

			<li>Iniciando: <b><i>"{{ study_item.name }}"</i></b></li>

			<br>

			<div style="width: 5%; text-align: right; font-size: 24px; padding-bottom: 8px;">

				<img src="{{ url_for('static', filename='images/books.png') }}" alt="" height="60" width="60">

			</div>

			<div class="divStudyItensDescription">

				<p>{{ study_item.content }}</p>

			</div>

			<br>

			<hr class="style">

			<div style="width: 3%; text-align: right; font-size: 24px; padding-bottom: 15px;">

				<img src="{{ url_for('static', filename='images/idea.png') }}" alt="" height="50" width="50">

			</div>

			<div class="divStudyItensExample">

				<p>{{ study_item.explanation }}</p>

			</div>

			<br>

			<button class="btn btn-primary" type="button" data-toggle="collapse" data-target="	#collapse1" aria-expanded="false" aria-controls="collapse1">
				Ver as <b>Dicas de Resolução</b>
			</button>

			<div class="collapse" id="collapse1">

				<div class="card card-body">

					<br>
				
					<p>{{ study_item.helper }}</p>

					<br>

				</div>

			</div>

		</div>

		<br>

		<div style="width: 30%; text-align: right; font-size: 25px;">

			<img src="{{ url_for('static', filename='images/code_area.png') }}" alt="" height="60" width="60">

		</div>

		<form action="{{ url_for('interactivestudy') }}" method="POST">

			{% if result %}

				<button onclick="highlight({{ item }}) class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
				Veja os resultados
				</button>

				<div class="collapse" id="collapse2">

					<div class="card card-body">

						{% for item in result %}

							<p>{{ item }}</p>

						{% endfor %}

					</div>

				</div>

			{% endif %}

			<div class="divStudyItensTryIt">

				<textarea name="user_code" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); font-size: 20px;" rows="5" cols="50" required="">Essa é a sua área! Teste aqui seus conhecimentos adquiridos.</textarea>

				<br><br><br>

				<input class="button_default btnInteractiveStudySubmit" type="submit" value="Enviar">

			</div>

		</form>

		<br><br>

	<script>

		function highlight(pairs)
		{
		    inputText = document.getElementById("user_code");

		    splitter = pairs.split(";")

		    index_begin = splitter[0]

		    index_end = splitter[1]

		    window.alert(index_begin)

		    window.alert(index_end)

		    var innerHTML = inputText.innerHTML;

	        innerHTML = innerHTML.substring(index_begin, index_end) + "<span class='highlight'>" + innerHTML.substring(index_begin, index_end) + "</span>" + innerHTML.substring(index_begin + index_end);
	        inputText.innerHTML = innerHTML;
		}

	</script>

	</body>

{% endblock %}